
To install Django:
py -m pip install Django

To create a project :
  django-admin startproject <project name>


we see these files : 
1. manage.py
=> this file is use to give commands related to our django project

2. _init_.py
an empty file that tells pyton that this directory should be considered a python package

3. settings.py 
settings/configuration for out Django project

4. urls.py 
contains all the urls for this django project.


To run the server : 
python manage.py runserver

To change the port: 
python manage.py runserver 1312 

------

Views : 
views handle request and return response 
view contains logic to return a response

we create this views using two ways: 
Function Based views (FBVs)
Class Based views (CBVs)

-------

let create our first view : 


// posts.py
==> views.py
from django.shortcuts import render
from django.http import HttpResponse

# Create your views here.


def helloWorld (request) : 
    return HttpResponse("Hello World")


//blog > urls.py 

from posts import views
urlpatterns = [
    path('admin/', admin.site.urls),
    path('posts/', views.helloWorld),
]


now in browser go on this : 
http://127.0.0.1:1331/posts


======> but in above structure their is some syntax is clutering so we create it more preety and struicture way:

insted of directly pass the view in main project url we create a separate url file in app. 

> posts> app_urls.py

from django.urls import path
from .views import *

urlpatterns=[
    path('helloWorld/' , helloWorld)
]


> blog > url.py 

from django.contrib import admin
from django.urls import path,include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('posts_app/', include('posts.app_urls')),
]

now go on this :
  http://127.0.0.1:1331/posts_app/posts/




-----------------

workflow of showing views 

client ----> (request to) ----> django site ------> (django goes in setting.py) ---> ROOT_URLCONF variable (which is path of root file of urls)


------------------

**************send html using view : ******************* 


> posts > views.py

dummyData = [
  {
    "id": 1,
    "title": "Getting Started with Django",
   "content": "This article explains the basics of setting up a Django project, creating apps, and running the development server."
  },
]

def home (request):
    html  = ''

    for data in dummyData: 
          html += f'''
               <div>
               <h1>{data['id']} - {data['title']}</h1>
               <p>{data['content']}</p>
               </div>
'''
    return HttpResponse(html)

> blog > urls.py

urlpatterns=[
    path('helloWorld/' , helloWorld),
    path('home/' , home)
]

---------------------

dynamic URl : 

> posts > app.url.py

urlpatterns=[
  path('home/<int:id>/' ,getContent)  //for this we add the dynamic value in angle bracket // here int is a path converter which provide the strictly this type of value
]


> posts > view.py

from django.http import HttpResponse,HttpResponseNotFound
def getContent(request ,id): // paramter name should be same as defined in url 
      html  = ''
      validId = False
      for data in dummyData: 
           if data['id'] == id :
                foundedData = data
                validId = True
                break

      if validId:
            html += f'''
                    <div>
                    <h1>{foundedData['id']} - {foundedData['title']}</h1>
                    <p>{foundedData['content']}</p>
                    </div>
        '''
            return HttpResponse(html)
      else:
            return HttpResponseNotFound("Post Not Found")



----------------------------------


******************get url using reverse function



why we should use this 

>blog > urls

urlpatterns = [
    path('posts_app/', include('posts.app_urls')),
    path('<int:id>', views.redirectTo),
]

> posts > urls
urlpatterns=[
    path('home/<int:id>/' ,getContent)
]


> post > views
def redirectTo(request ,id):
     return HttpResponseRedirect(f'''posts_app/home/{id}''')


==> till here all working fine 

>blog > urls

urlpatterns = [
    path('post_app/', include('posts.app_urls')), //removed s from url
    path('<int:id>', views.redirectTo),
]

==> now this will show error

> post > views
def redirectTo(request ,id):
     return HttpResponseRedirect(f'''posts_app/home/{id}''') // becasue here is s


========== solution ==================
==> to solve this we use reverse function and path naming 


for this we give the name to this path 

>posts > urls
urlpatterns=[
    path('home/<int:id>/' ,getContent ,name="posts") // give the name using name 
]

> posts > views
from django.urls import reverse

def redirectTo(request ,id):
     url = reverse("posts" ,args=[id]) // here we use this , why we use args becasue we can see that in url there is a dynamic path which is "id" so to give a default value we use this
     return HttpResponseRedirect(url)

------------------------------------------------


***************** Templates (redering HTML file) *******************

First create a folder in app which is "templates" 

inside that create html files

now use that file in views

> posts > views
def blog(request):
     return render(request ,'blog.html')  // no need to import

!!!!!! but still it not get the template for this we have to add our app in settings.py > INSTALLED_APPS

INSTALLED_APPS = [
    ....remaing apps,
    'posts'
]


now it will work .

======
why this templates work because in setting.py we set  'APP_DIRS': True, it tell django to search for templates in each installed app which we provided in setting.py

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

if we create a folder inside a templates then we have to give the templates in view like this 

> posts > views
def blog(request):
     return render(request ,'posts/blog.html')  

--------------------------------


*********** dynamic templates using Template Language ****************

we can pass the data in templates 

def blog(request):
     return render(request ,'blog.html' ,{"name" : "Ajay" ,"posts" : dummyData})



and use like this :

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog Page</title>
  </head>
  <body>

    <h1>Welcome - {{name}}</h1>

    {% if posts %} 
    
      {%for data in posts %}
         <p>{{data.content}}</p>
      {%endfor %} 
      
    {% elif posts|length == 0 %}
        <p>posts length is 0</p>


    {% else %}
    <p>No posts available</p>

    {%endif%}
  </body>
</html>

--------------------------

*********** empty tag ***********


the content of this tag will show when array is empty or the posts is not available

{%for data in posts %}
    <p>{{data.content}}</p>
{% empty %}
    <li>Sorry, no athletes in this list.</li>
{%endfor %}


---------------------------


******************* Filters 

there is some predefined mathods

<h1>my name is {{name|capfirst|truncatechars:3}}</h1>


------------------------

dynamic url in template

 <a href={% url 'posts' data.id %}>  // using this url posts is the url name and 3rd data.id is dynamic argument if want another arugument add after 3rd like same but in order.
    <h3>{{data.title}}</h3> 
 </a>




























































































































































